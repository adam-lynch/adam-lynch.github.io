<!DOCTYPE html><html data-n-head="" data-n-head-ssr><meta data-n-head="true" charset="utf-8"><meta data-n-head="true" content="width=device-width,initial-scale=1" name="viewport"><meta data-n-head="true" content="#ffffff" theme-color="theme-color"><meta data-n-head="true" content="You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…
" name="description" data-hid="description"><meta data-n-head="true" content="javascript, node.js, homoglyphs, prank" name="keywords" data-hid="keywords"><meta data-n-head="true" content="summary" name="twitter:card" data-hid="twitter:card"><meta data-n-head="true" content="Olc: Ruin someone’s day with homoglyphs" name="twitter:title" data-hid="twitter:title"><meta data-n-head="true" content="You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…
" name="twitter:description" data-hid="twitter:description"><meta data-n-head="true" content="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png" name="twitter:image"><meta data-n-head="true" content="/olc-ruin-someones-day-with-homoglyphs" name="twitter:url" data-hid="twitter:url"><meta data-n-head="true" content="article" name="og:type" data-hid="og:type"><meta data-n-head="true" content="Olc: Ruin someone’s day with homoglyphs" name="og:title" data-hid="og:title"><meta data-n-head="true" content="You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…
" name="og:description" data-hid="og:description"><meta data-n-head="true" content="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png" name="og:image" data-hid="og:image"><meta data-n-head="true" content="/olc-ruin-someones-day-with-homoglyphs" name="og:url" data-hid="og:url"><title data-n-head="true">Olc: Ruin someone’s day with homoglyphs</title><link href="/apple-touch-icon.png" rel="apple-touch-icon" data-n-head="true" sizes="76x76"><link href="/favicon-32x32.png" rel="icon" data-n-head="true" sizes="32x32" type="image/x-icon"><link href="/favicon-16x16.png" rel="icon" data-n-head="true" sizes="16x16" type="image/png"><link href="/safari-pinned-tab.svg" rel="mask-icon" data-n-head="true" color="#53687a"><link href="//unpkg.com/prismjs/themes/prism.css" rel="stylesheet" data-n-head="true"><link href="/_nuxt/manifest.45cf92cb222419c2a2ce.js" rel="preload" as="script"><link href="/_nuxt/common.cce26c30433710b95d02.js" rel="preload" as="script"><link href="/_nuxt/app.79fa0045d017ad4d1319.js" rel="preload" as="script"><link href="/_nuxt/layouts/default.6b4afe2883b96cb0c943.js" rel="preload" as="script"><link href="/_nuxt/2.21a1d4b69bc870889f90.js" rel="preload" as="script"><link href="/_nuxt/pages/index.bad81561d176a73220d5.js" rel="prefetch"><style data-vue-ssr-id="6dd13fd5:0 1972bf5f:0">*{-webkit-box-sizing:border-box;box-sizing:border-box}body,html{margin:0;padding:0}ol,ul{list-style:none;padding-left:0;margin:0}a{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;text-decoration:none;color:inherit}body{font-family:Arial,sans-serif;line-height:1.55;letter-spacing:-.25px;-webkit-font-smoothing:antialiased}.wf-active body{font-family:Lato,Arial,sans-serif}body{background:#ececec;color:#333;padding-top:32px;padding-top:2rem}.wrapper{max-width:960px;max-width:60rem;margin:0 auto}.header{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 32px;padding:0 2rem;background:#ececec}@media (min-width:59rem){.header{-ms-flex-wrap:nowrap;flex-wrap:nowrap}}.site-title{margin:0;text-align:center;-webkit-transition:opacity .25s ease-in;transition:opacity .25s ease-in;min-width:100%;max-width:96px;max-width:6rem}@media (min-width:42rem){.site-title{min-width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}}@media (min-width:59rem){.site-title{-webkit-box-flex:initial;-ms-flex:initial;flex:initial}}.site-title:hover{opacity:.9}.site-link{display:inline-block;background:url(/_nuxt/img/Logo.542e06c.png) 0 no-repeat;background-size:5.99rem;height:144px;height:9rem;width:96px;width:6rem;margin:0 auto;text-indent:-9999px}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2),(min-resolution:192dpi){.site-link{background-image:url(/_nuxt/img/Logo@2x.b121531.png)}}.site-happy-text-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 auto;padding:0;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:20.8px;font-size:1.3rem}@media (min-width:42rem){.site-happy-text-wrapper{-webkit-box-flex:2;-ms-flex:2;flex:2;padding:0 0 0 2rem}}@media (min-width:59rem){.site-happy-text-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:1.2rem}}@media (min-width:61rem){.site-happy-text-wrapper{font-size:1.3rem}}.site-happy-text{-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0;text-align:center}@media (min-width:42rem){.site-happy-text{text-align:left}}.site-happy-text-headline{display:block}.site-happy-text-headline,.wf-active .site-happy-text-headline{font-size:30.4px;font-size:1.9rem;font-weight:700}@media (min-width:25rem){.site-happy-text-headline{font-size:2.3rem;line-height:1.7}.wf-active .site-happy-text-headline{line-height:1.5;font-size:2.5rem}}@media (min-width:59rem){.site-happy-text-headline{font-size:2.9rem}.wf-active .site-happy-text-headline{font-size:3.1rem}}@media (min-width:61rem){.site-happy-text-headline{font-size:2.92rem;line-height:1.7}.wf-active .site-happy-text-headline{line-height:1.5;font-size:3.2rem}}.site-happy-text-tagline{display:inline}@media (min-width:42rem){.site-happy-text-tagline{display:block}}.navigation-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;padding:32px 0 0;padding:2rem 0 0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}@media (min-width:59rem){.navigation-wrapper{max-width:23rem;padding:0 0 0 2rem}}.navigation{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:100%;width:100%}@media (min-width:59rem){.navigation{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-width:0}}.navigation-item{-webkit-box-flex:1;-ms-flex:1 1 33%;flex:1 1 33%;min-width:33%;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;cursor:pointer;font-size:11.2px;font-size:.7rem;font-weight:700;text-shadow:0 1px 1px rgba(0,0,0,.2)}@media (min-width:25rem){.navigation-item{font-size:.75rem}}@media (min-width:45rem){.navigation-item{min-width:0;-webkit-box-flex:1;-ms-flex:1;flex:1}}@media (min-width:59rem){.navigation-item{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;min-width:33%}}.writing-navigation-item{background:rgba(151,167,182,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.writing-navigation-item:hover{background:#889bab}.edit-navigation-item{background:hsla(210,7%,73%,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.edit-navigation-item:hover{background:#a8aeb4}.code-navigation-item{background:rgba(167,177,186,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.code-navigation-item:hover{background:#99a5af}.twitter-navigation-item{background:rgba(134,155,173,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.twitter-navigation-item:hover{background:#778ea3}.email-navigation-item{background:rgba(151,165,177,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.email-navigation-item:hover{background:#8898a6}.linkedin-navigation-item{background:hsla(208,9%,68%,.9);-webkit-transition:background-color .25s;transition:background-color .25s}.linkedin-navigation-item:hover{background:#99a2aa}.navigation-link{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px;padding:1rem;text-decoration:none;color:#f5f5f5;font-size:12.8px;font-size:.8rem;-webkit-transition:color .25s;transition:color .25s}@media (min-width:25rem){.navigation-link{padding:1.5rem}}.navigation-link:after{content:"";position:absolute;top:100%;left:0;bottom:0;right:0;height:0;width:100%;background:#000;opacity:.02;cursor:pointer;-webkit-transition:all .2s ease-out;transition:all .2s ease-out}.navigation-link:hover{color:#fff}.navigation-link:hover:after{top:50%;height:50%}.navigation-item-text{-webkit-box-flex:1;-ms-flex:1;flex:1}.posts{padding:32px;padding:2rem}.post-wrapper{padding-bottom:32px;padding-bottom:2rem}.post-wrapper:last-child{padding-bottom:0}.post{padding:32px;padding:2rem;margin:32px;margin:2rem;background:#fff;max-width:960px;max-width:60rem}.posts .post{margin:0 auto}.post>:first-child{margin-top:0}.post-content{font-size:17.6px;font-size:1.1rem;line-height:1.55}.post-content>*{margin:24px 0 0;margin:1.5rem 0 0}.post-content :not(figure)>a{color:#3f729e;padding-bottom:.8px;padding-bottom:.05rem;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.2)),to(rgba(0,0,0,.2)));background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2));background-repeat:no-repeat;background-size:100% 1.5px;background-position:center bottom 10%;background-origin:padding-box;text-shadow:3px 0 #fff,2px 0 #fff,1px 0 #fff,-1px 0 #fff,-2px 0 #fff,-3px 0 #fff;-webkit-transition:color .25s;transition:color .25s}.post-content :not(figure)>a:hover{color:#223d55}.post-content blockquote{position:relative;font-size:20.8px;font-size:1.3rem;font-size:25.12px;font-size:1.57rem;font-style:italic;font-weight:100;padding-left:32px;padding-left:2rem;line-height:1.48;margin-top:32px;margin-top:2rem}.post-content blockquote:before{content:"\201C";position:absolute;top:-24px;top:-1.5rem;left:-8px;left:-.5rem;height:48px;height:3rem;width:25px;color:#f5f5f5;font-size:96px;font-size:6rem;font-style:normal;line-height:1}.post-content blockquote footer{margin-top:16px;margin-top:1rem;font-size:14.4px;font-size:.9rem;text-align:right}.post-content blockquote cite{display:inline-block;margin-left:8px;margin-left:.5rem}.post-content figure{text-align:center}.post-content figcaption{color:#666;font-size:14.4px;font-size:.9rem;font-style:italic}.post-content img{display:block;max-width:100%;height:auto;margin:0 auto;min-height:50px;min-width:150px;position:relative;color:#b6b6b6;font-size:14.4px;font-size:.9rem;text-align:center}.post-content img:before{content:"Image failed to load :/";display:block;font-size:15.2px;font-size:.95rem}.post-content code,.post-content pre{font-family:Consolas,Monaco,Andale Mono,monospace;text-shadow:0 1px #fff;white-space:pre;word-spacing:normal;word-break:normal;-webkit-font-feature-settings:none;font-feature-settings:none;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;word-wrap:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.post-content :not(h3):not(h4):not(h5):not(h6)>code,.post-content pre{font-size:13.6px;font-size:.85rem}.post-content :not(pre)>code,.post-content pre{background:#f5f5f5}.post-content pre{padding:16px;padding:1rem;overflow:auto;color:#000}.post-content :not(pre)>code{display:inline-block;padding:0 4.36px;padding:0 .2725rem;white-space:normal}.post-content a code{background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;font-size:15.68px;font-size:.98rem;padding:0;padding:initial}.post-content p:first-child{margin-top:0}.post-content h3{font-size:26px;font-size:1.625rem}.post-content h4{font-size:22.224px;font-size:1.389rem}.post-content h5{font-size:18.448px;font-size:1.153rem}.post-content h6{font-size:14.896px;font-size:.931rem}.post-content .post-header-anchor{position:absolute;left:-32px;left:-2rem;top:20px;width:32px;width:2rem;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:0 0;text-align:center;line-height:1;text-shadow:none;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out}.post-content .post-header-anchor:focus{outline:0}.post-content .post-header-anchor:hover svg{opacity:1}.post-content .post-header-anchor:after{content:" copied";position:absolute;bottom:-14px;left:0;right:0;font-size:.6em;color:gray;opacity:0;visibility:none;-webkit-transition:opacity 2s;transition:opacity 2s}.post-content .post-header-anchor svg{opacity:.2}.post-content h4 .post-header-anchor{top:18px}.post-content h5 .post-header-anchor{top:16px}.post-content h6 .post-header-anchor{top:14px}.post-content .post-header-anchor--copied:after{opacity:1}.post-content p:last-of-type{margin-bottom:0}.post-content h3,.post-content h4,.post-content h5,.post-content h6{position:relative}.post-content h3+p,.post-content h4+p,.post-content h5+p,.post-content h6+p{margin-top:8px;margin-top:.5rem}.post-content p+h3,.post-content p+h4,.post-content p+h5,.post-content p+h6{margin-top:32px;margin-top:2rem}.post-content ol,.post-content ul{padding-left:1.25em;list-style:disc outside none;list-style:initial}.post-content li{margin-bottom:8px;margin-bottom:.5rem}.post-summary .post-content,.post-summary .post-content>*{display:inline}.post-content table{border-spacing:0;border-collapse:collapse}.post-content td,.post-content th{padding:0;padding:6px 13px;border:1px solid #dfe2e5}.post-content th{font-weight:600;text-align:left}.post-title-wrapper{margin:0}.post-title{line-height:1.4;font-size:22.4px;font-size:1.4rem;font-weight:700}.wf-active .post-title{font-size:24px;font-size:1.5rem;line-height:1.2}@media (min-width:30rem){.post-title{line-height:1.6;font-size:1.85rem}.wf-active .post-title{line-height:1.5;font-size:2rem}}.post-title-label{display:inline-block;position:relative;bottom:.3em;padding:.2em .4em;margin-left:.3em;font-size:.5em;background:#e3e3e3;color:#9e9e9e;border-radius:5%;font-weight:400;-webkit-transition:opacity .25s ease-in;transition:opacity .25s ease-in}.post-title:hover .post-title-label{opacity:.9}.post-title-label-parenthesis{display:none}.post-meta{font-size:14.4px;font-size:.9rem;margin:16px 0;margin:1rem 0;color:#a2a2a2}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2),(min-resolution:192dpi){.post-meta{color:#000;font-weight:300}}.post-blog-date{display:block;margin-top:8px;margin-top:.5rem}@media (min-width:30rem){.post-blog-date{display:inline;margin-top:0}.post-blog-date+.post-blog-title:before{display:inline-block;content:" \2014   ";margin:0 .25rem 0 .5rem}}.post-blog-link{font-weight:400;font-style:italic}.footer-link,.post-blog-link,.post-read-more-link,.post-title,.site-happy-text-headline-link,.site-happy-text-tagline-link{-webkit-transition:color .25s;transition:color .25s}.footer-link:hover,.post-blog-link:hover,.post-read-more-link:hover,.post-title:hover,.site-happy-text-headline-link:hover,.site-happy-text-tagline-link:hover{color:#869bad}.footer-link,.post-read-more-link,.post-title,.site-happy-text-tagline-link{color:#53687a}.post-read-more-link{display:inline-block;font-weight:700;margin:0}.post-comments{margin:32px;margin:2rem;padding:32px;padding:2rem;background:#fff}.footer{text-align:center;font-size:12.8px;font-size:.8rem;margin-bottom:32px;margin-bottom:2rem}.footer-text{margin:0}.footer-link{font-weight:700}.copyright{display:block;color:gray}@media (-webkit-min-device-pixel-ratio:2),(min-device-pixel-ratio:2),(min-resolution:192dpi){.copyright{font-weight:100}}.fix-bug-ignore{color:red}.posts{position:relative}.post-wrapper{-webkit-transition:padding .5s ease-in-out,-webkit-transform .3s ease-in-out;transition:padding .5s ease-in-out,-webkit-transform .3s ease-in-out;transition:padding .5s ease-in-out,transform .3s ease-in-out;transition:padding .5s ease-in-out,transform .3s ease-in-out,-webkit-transform .3s ease-in-out}.post{-webkit-transition:opacity .1s ease-in-out,-webkit-transform .1s ease-in-out;transition:opacity .1s ease-in-out,-webkit-transform .1s ease-in-out;transition:opacity .1s ease-in-out,transform .1s ease-in-out;transition:opacity .1s ease-in-out,transform .1s ease-in-out,-webkit-transform .1s ease-in-out}.posts--entering-post .post-wrapper:not(.post-wrapper--entering-from-posts) .post{opacity:.2;-webkit-transform:scale(.8);transform:scale(.8)}.posts--entering-post .post-wrapper--entering-from-posts{left:32px;left:2rem;right:32px;right:2rem}.post-skeleton{line-height:1.55;position:relative;opacity:0;max-height:0;overflow:hidden}.post-skeleton.post-skeleton--visible,.post-wrapper--entering-from-posts .post-skeleton{opacity:1;margin-top:32px;margin-top:2rem;max-height:none}.post-skeleton:after{content:" ";position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;opacity:.2;-webkit-animation:1s skeleton infinite ease-in-out;animation:1s skeleton infinite ease-in-out}.post-skeleton-word{height:17.6px;height:1.1rem;background:#f7f7f7;width:46px;display:inline-block;margin:4px 6px 0 0}.post-skeleton-word:nth-child(2n){width:36px}.post-skeleton-word:nth-child(3n){width:76px}.post-skeleton+.post-skeleton .post-skeleton-word:nth-child(3n){width:71px}.post-skeleton-word:nth-child(5n){width:96px}.post-skeleton-word:nth-child(6n){width:63px}.post-skeleton-word:nth-child(7n){width:26px}@-webkit-keyframes skeleton{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}98%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}99%{-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes skeleton{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}98%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}99%{-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;-webkit-transition:width .2s,opacity .4s;transition:width .2s,opacity .4s;opacity:1;background-color:#efc14e;z-index:999999}</style><script src="https://unpkg.com/scrollto-with-animation/dist/scrollto-with-animation.min.js"></script><body data-n-head=""><div data-server-rendered="true" id="__nuxt"><div class="nuxt-progress" style="width:0%;height:2px;background-color:#869bad;opacity:0"></div><div class="wrapper"><main class="content"><header class="header"><h1 class="site-title"><a href="/" class="site-link nuxt-link-active">Adam Lynch</a></h1><div class="site-happy-text-wrapper"><p class="site-happy-text"><span class="site-happy-text-headline">I'm <a href="/" class="site-happy-text-headline-link nuxt-link-active">Adam Lynch</a>. </span><span class="site-happy-text-tagline">I like to <a href="https://github.com/adam-lynch" class="site-happy-text-tagline-link">code</a>, <a href="/" class="site-happy-text-tagline-link nuxt-link-active">write</a>, and dabble in design. </span><span class="site-happy-text-tagline">I lead <a href="https://www.teamwork.com" class="site-happy-text-tagline-link">Teamwork.com</a>'s next product.</span></div><nav class="navigation-wrapper" role="navigation"><ul class="navigation"><li class="navigation-item writing-navigation-item"><a href="/" class="navigation-link nuxt-link-active"><span class="navigation-item-text">Writing</span></a><li class="navigation-item code-navigation-item"><a href="https://github.com/adam-lynch" class="navigation-link" rel="noopener"><span class="navigation-item-text">Code</span></a><li class="navigation-item edit-navigation-item"><a href="https://github.com/adam-lynch/adam-lynch.github.io" class="navigation-link" rel="noopener"><span class="navigation-item-text">Edit page</span></a><li class="navigation-item twitter-navigation-item"><a href="https://twitter.com/lynchy010/" class="navigation-link" rel="noopener"><span class="navigation-item-text">Twitter</span></a><li class="navigation-item email-navigation-item"><a href="mailto:contact@adamlynch.com" class="navigation-link" rel="noopener"><span class="navigation-item-text">Email</span></a><li class="navigation-item linkedin-navigation-item"><a href="https://www.linkedin.com/in/adamlynch010/" class="navigation-link" rel="noopener"><span class="navigation-item-text">LinkedIn</span></a></ul></nav></header><div><article class="post"><h2 class="post-title-wrapper"><a href="/olc-ruin-someones-day-with-homoglyphs" class="post-title nuxt-link-exact-active nuxt-link-active">Olc: Ruin someone’s day with homoglyphs</a></h2><div class="post-meta"><time class="post-blog-date">October 27th, 2015</time><span class="post-blog-title"> Originally posted on <a href="https://engineroom.teamwork.com/olc-ruin-someones-day-with-homoglyphs-b14e9a1a05a4" class="post-blog-link">Teamwork's Engine Room</a></span></div><div class="post-content"><p><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png" alt=""><p>You might have seen Ben Johnson’s <a href="https://twitter.com/benbjohnson/status/533848879423578112" rel="noopener">tweet</a>. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc</a>. “Olc” is the Irish word for “bad” and is inconspicious enough to go unnoticed if added to a project on the sly.<pre><code class="language-javascript"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> olc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'olc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'*.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./output'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>That's the simplest way to run Olc on some files (with <a href="http://gulpjs.com/" rel="noopener">Gulp</a>). Yay, syntax errors. See <a href="https://github.com/adam-lynch/olc#basic-usage-without-gulp" rel="noopener">the readme</a> for standalone usage if you'd prefer not to use Gulp.<h3><a href="#options" class="post-header-anchor" id="options" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Options</h3><p>So only semi-colons are replaced by default as the <s>specification</s> tweet says. For added frustration, any of the following characters can be replaced with homgraphs / homoglyphs: <code>!</code>, <code>(</code>, <code>)</code>, <code>+</code>, <code>,</code>, <code>.</code>, <code>/</code>, <code>:</code>, <code>;</code>, <code>&lt;</code>, and <code>></code>.<pre><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'*.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mode<span class="token punctuation">:</span> <span class="token string">'all'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./output'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>The <code>mode</code> option supports three modes so far;<ul><li><code>greek</code>: The default.<li><code>all</code>: Replace all of the supported characters with homoglyph. Some characters have multiple homographs and one is chosen at random as the replacement each time an occurance is found.<li><code>one</code>: Chooses one target character at random and replaces it throughout each file with its homoglyphs. Therefore, each time the code is run, the error and location could change.</ul><p>Alternatively, you can could pass a <code>charactersToReplace</code> option (as a string or array of characters) to explicitly choose how you'd like to inflict the pain.<pre><code class="language-javascript"><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> charactersToReplace<span class="token punctuation">:</span> <span class="token string">';)('</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// or olc({ charactersToReplace: [';', ')', '('] })</span>
</code></pre><h3><a href="#behind-the-scenes" class="post-header-anchor" id="behind-the-scenes" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Behind the scenes</h3><p>Olc handles what should be replaced with what and leaves the real work to <a href="https://github.com/lazd/gulp-replace" rel="noopener">gulp-replace</a> underneath. The most interesting thing was testing this. I like having comprehensive tests for my modules. I like hooking them up to <a href="https://travis-ci.org" rel="noopener">Travis-CI</a> (Linux) and <a href="http://www.appveyor.com/" rel="noopener">Appveyor</a> (Windows) to run the tests on every commit (via GitHub webhook). But how could this be tested?<p>Testing the <code>greek</code> mode is simple as you just need to check the output against a file containing the expected contents, but how can you test the <code>one</code> mode? How can you check that a random character of a set is replaced throughout? Keep in mind that each occurrence would be replaced with one of the character's homoglyphs chosen at random. That sounds like a lot of hassle.<p>Set theory was the answer. Treating each character as a unique element of a set simplifies everything. Each of the following must be confirmed:<ul><li>All instances of only one character were replaced.<li>The replaced character was a supported target character.<li>Every character added must be a homoglyph of the replaced character.</ul><p>Let's take this code (which contains all possible target characters) as example contents of a file:<pre><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Tada...!'</span> <span class="token string">"&lt;&lt;&lt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
  a <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Let's assume that all semi-colons were replaced and all of its homoglyphs were used. Here's a Venn diagram:<figure><a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png" alt=""></a><figcaption><p>A Venn diagram containing all characters, showing that most of the characters are unchanged.</figcaption></figure><h3><a href="#all-instances-of-only-one-character-were-replaced" class="post-header-anchor" id="all-instances-of-only-one-character-were-replaced" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>All instances of only one character were replaced</h3><p>Which characters were replaced? That's the characters in the original set which aren't in the new set, also known as the relative-complement of new set in the original, or simply as the difference of the original and new set. This will leave us with the characters from the left-hand side of the diagram. Once the cardinality of the difference is one, then all is ok.<h3><a href="#the-replaced-character-was-a-supported-target-character" class="post-header-anchor" id="the-replaced-character-was-a-supported-target-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The replaced character was a supported target character</h3><p>That's easy. We just need to check if the only element (<code>;</code>) in the difference is <a href="https://github.com/adam-lynch/olc/blob/master/homographs.json" rel="noopener">one we support</a>.<h3><a href="#every-character-added-must-be-a-homoglyph-of-the-replaced-character" class="post-header-anchor" id="every-character-added-must-be-a-homoglyph-of-the-replaced-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Every character added must be a homoglyph of the replaced character</h3><p>So, now we need to know which characters were added. That's the difference of the new set and the original set, i.e. everything on the right-hand side of the diagram. Once every one of those elements is a homoglyth of the target character, then we've covered everything, so the tests pass.<h3><a href="#the-end-result" class="post-header-anchor" id="the-end-result" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The end result</h3><figure><a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png" alt=""></a><figcaption><p>The results of the tests</figcaption></figure><p>The <code>[simplesets](https://github.com/PeterScott/simplesets-nodejs)</code> module made light work of the set stuff and I also used <a href="https://mochajs.org/" rel="noopener">mocha</a>, <a href="http://shouldjs.github.io/" rel="noopener">should</a>, and a few other modules for plumbing to implement <a href="https://github.com/adam-lynch/olc/blob/master/test/index.js" rel="noopener">the tests</a>. Check out <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc on GitHub</a>, feel free to submit a pull-request, or use Olc on someone you know but make sure to blame Ben Johnson.</div></article><aside class="post-comments"><div id="disqus_thread"></div><div class="post-skeleton post-skeleton--visible" aria-hidden="true"><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span><span class="post-skeleton-word"></span></div></aside></div><footer class="footer"><p class="footer-text"><a href="https://github.com/adam-lynch/adam-lynch.github.io" class="footer-link">This site is open source</a><span class="copyright">© 2018 Adam Lynch</span></footer></main></div></div><script type="text/javascript">window.__NUXT__={layout:"default",data:[{article:{id:"olc-ruin-someones-day-with-homoglyphs",slug:"olc-ruin-someones-day-with-homoglyphs",highlightedLanguages:["javascript"],source:"---\ndate: 2015-10-27\nsummary: You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go… \noriginal:\n  blogLink: https://engineroom.teamwork.com\n  blogName: Teamwork's Engine Room\n  url: https://engineroom.teamwork.com/olc-ruin-someones-day-with-homoglyphs-b14e9a1a05a4\ntags:\n  - javascript\n  - node.js\n  - homoglyphs\n  - prank\n---\n\n## Olc: Ruin someone’s day with homoglyphs\n\n![](/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png)\n\nYou might have seen Ben Johnson’s [tweet](https://twitter.com/benbjohnson/status/533848879423578112). I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called [Olc](https://github.com/adam-lynch/olc). “Olc” is the Irish word for “bad” and is inconspicious enough to go unnoticed if added to a project on the sly.\n\n```javascript\nvar gulp = require('gulp');\nvar olc = require('olc');\n\ngulp.task('default', function() { \n  gulp.src('*.js')\n    .pipe(olc())\n    .pipe(gulp.dest('./output'));\n});\n```\n\nThat's the simplest way to run Olc on some files (with [Gulp](http://gulpjs.com/)). Yay, syntax errors. See [the readme](https://github.com/adam-lynch/olc#basic-usage-without-gulp) for standalone usage if you'd prefer not to use Gulp.\n\n### Options\n\nSo only semi-colons are replaced by default as the ~~specification~~ tweet says. For added frustration, any of the following characters can be replaced with homgraphs / homoglyphs: `!`, `(`, `)`, `+`, `,`, `.`, `/`, `:`, `;`, `<`, and `>`.\n\n```javascript\ngulp.src('*.js')\n  .pipe(olc({ mode: 'all' }))\n  .pipe(gulp.dest('./output'));\n```\n\nThe `mode` option supports three modes so far;\n\n- `greek`: The default.\n- `all`: Replace all of the supported characters with homoglyph. Some characters have multiple homographs and one is chosen at random as the replacement each time an occurance is found.\n- `one`: Chooses one target character at random and replaces it throughout each file with its homoglyphs. Therefore, each time the code is run, the error and location could change.\n\nAlternatively, you can could pass a `charactersToReplace` option (as a string or array of characters) to explicitly choose how you'd like to inflict the pain.\n\n```javascript\nolc({ charactersToReplace: ';)('})// or olc({ charactersToReplace: [';', ')', '('] })\n```\n\n### Behind the scenes\n\nOlc handles what should be replaced with what and leaves the real work to [gulp-replace](https://github.com/lazd/gulp-replace) underneath. The most interesting thing was testing this. I like having comprehensive tests for my modules. I like hooking them up to [Travis-CI](https://travis-ci.org) (Linux) and [Appveyor](http://www.appveyor.com/) (Windows) to run the tests on every commit (via GitHub webhook). But how could this be tested?\n\nTesting the `greek` mode is simple as you just need to check the output against a file containing the expected contents, but how can you test the `one` mode? How can you check that a random character of a set is replaced throughout? Keep in mind that each occurrence would be replaced with one of the character's homoglyphs chosen at random. That sounds like a lot of hassle.\n\nSet theory was the answer. Treating each character as a unique element of a set simplifies everything. Each of the following must be confirmed:\n\n- All instances of only one character were replaced.\n- The replaced character was a supported target character.\n- Every character added must be a homoglyph of the replaced character.\n\nLet's take this code (which contains all possible target characters) as example contents of a file:\n\n```javascript\nmodule.exports = function(){  \n  console.log('Tada...!' \"<<<\");\n  var a = 0; \n  a = (a > 2 ? 4 : 5 / 2);  \n  return [0, 1];\n};\n```\n\nLet's assume that all semi-colons were replaced and all of its homoglyphs were used. Here's a Venn diagram:\n\n\n:::figure olc-ruin-someones-day-with-homoglyphs/venn.png A Venn diagram containing all characters, showing that most of the characters are unchanged.\n:::\n\n### All instances of only one character were replaced\n\nWhich characters were replaced? That's the characters in the original set which aren't in the new set, also known as the relative-complement of new set in the original, or simply as the difference of the original and new set. This will leave us with the characters from the left-hand side of the diagram. Once the cardinality of the difference is one, then all is ok.\n\n### The replaced character was a supported target character\n\nThat's easy. We just need to check if the only element (`;`) in the difference is [one we support](https://github.com/adam-lynch/olc/blob/master/homographs.json).\n\n### Every character added must be a homoglyph of the replaced character\n\nSo, now we need to know which characters were added. That's the difference of the new set and the original set, i.e. everything on the right-hand side of the diagram. Once every one of those elements is a homoglyth of the target character, then we've covered everything, so the tests pass.\n\n### The end result\n\n::: figure olc-ruin-someones-day-with-homoglyphs/test-results.png The results of the tests\n:::\n\nThe `[simplesets](https://github.com/PeterScott/simplesets-nodejs)` module made light work of the set stuff and I also used [mocha](https://mochajs.org/), [should](http://shouldjs.github.io/), and a few other modules for plumbing to implement [the tests](https://github.com/adam-lynch/olc/blob/master/test/index.js). Check out [Olc on GitHub](https://github.com/adam-lynch/olc), feel free to submit a pull-request, or use Olc on someone you know but make sure to blame Ben Johnson.\n",unfilteredRenderedBody:'<h2><a id="olc-ruin-someones-day-with-homoglyphs" class="post-header-anchor" href="#olc-ruin-someones-day-with-homoglyphs" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Olc: Ruin someone’s day with homoglyphs</h2>\n<p><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png" alt=""></p>\n<p>You might have seen Ben Johnson’s <a href="https://twitter.com/benbjohnson/status/533848879423578112" rel="noopener">tweet</a>. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc</a>. “Olc” is the Irish word for “bad” and is inconspicious enough to go unnoticed if added to a project on the sly.</p>\n<pre><code class="language-javascript"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> olc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'olc\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">\'*.js\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">\'./output\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>That\'s the simplest way to run Olc on some files (with <a href="http://gulpjs.com/" rel="noopener">Gulp</a>). Yay, syntax errors. See <a href="https://github.com/adam-lynch/olc#basic-usage-without-gulp" rel="noopener">the readme</a> for standalone usage if you\'d prefer not to use Gulp.</p>\n<h3><a id="options" class="post-header-anchor" href="#options" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Options</h3>\n<p>So only semi-colons are replaced by default as the <s>specification</s> tweet says. For added frustration, any of the following characters can be replaced with homgraphs / homoglyphs: <code>!</code>, <code>(</code>, <code>)</code>, <code>+</code>, <code>,</code>, <code>.</code>, <code>/</code>, <code>:</code>, <code>;</code>, <code>&lt;</code>, and <code>&gt;</code>.</p>\n<pre><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">\'*.js\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mode<span class="token punctuation">:</span> <span class="token string">\'all\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">\'./output\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>The <code>mode</code> option supports three modes so far;</p>\n<ul>\n<li><code>greek</code>: The default.</li>\n<li><code>all</code>: Replace all of the supported characters with homoglyph. Some characters have multiple homographs and one is chosen at random as the replacement each time an occurance is found.</li>\n<li><code>one</code>: Chooses one target character at random and replaces it throughout each file with its homoglyphs. Therefore, each time the code is run, the error and location could change.</li>\n</ul>\n<p>Alternatively, you can could pass a <code>charactersToReplace</code> option (as a string or array of characters) to explicitly choose how you\'d like to inflict the pain.</p>\n<pre><code class="language-javascript"><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> charactersToReplace<span class="token punctuation">:</span> <span class="token string">\';)(\'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// or olc({ charactersToReplace: [\';\', \')\', \'(\'] })</span>\n</code></pre>\n<h3><a id="behind-the-scenes" class="post-header-anchor" href="#behind-the-scenes" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Behind the scenes</h3>\n<p>Olc handles what should be replaced with what and leaves the real work to <a href="https://github.com/lazd/gulp-replace" rel="noopener">gulp-replace</a> underneath. The most interesting thing was testing this. I like having comprehensive tests for my modules. I like hooking them up to <a href="https://travis-ci.org" rel="noopener">Travis-CI</a> (Linux) and <a href="http://www.appveyor.com/" rel="noopener">Appveyor</a> (Windows) to run the tests on every commit (via GitHub webhook). But how could this be tested?</p>\n<p>Testing the <code>greek</code> mode is simple as you just need to check the output against a file containing the expected contents, but how can you test the <code>one</code> mode? How can you check that a random character of a set is replaced throughout? Keep in mind that each occurrence would be replaced with one of the character\'s homoglyphs chosen at random. That sounds like a lot of hassle.</p>\n<p>Set theory was the answer. Treating each character as a unique element of a set simplifies everything. Each of the following must be confirmed:</p>\n<ul>\n<li>All instances of only one character were replaced.</li>\n<li>The replaced character was a supported target character.</li>\n<li>Every character added must be a homoglyph of the replaced character.</li>\n</ul>\n<p>Let\'s take this code (which contains all possible target characters) as example contents of a file:</p>\n<pre><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  \n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Tada...!\'</span> <span class="token string">"&lt;&lt;&lt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> \n  a <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>Let\'s assume that all semi-colons were replaced and all of its homoglyphs were used. Here\'s a Venn diagram:</p>\n<figure>\n          <a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png" alt=""/></a>\n          <figcaption><p>A Venn diagram containing all characters, showing that most of the characters are unchanged.</p>\n</figcaption>\n        </figure><h3><a id="all-instances-of-only-one-character-were-replaced" class="post-header-anchor" href="#all-instances-of-only-one-character-were-replaced" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>All instances of only one character were replaced</h3>\n<p>Which characters were replaced? That\'s the characters in the original set which aren\'t in the new set, also known as the relative-complement of new set in the original, or simply as the difference of the original and new set. This will leave us with the characters from the left-hand side of the diagram. Once the cardinality of the difference is one, then all is ok.</p>\n<h3><a id="the-replaced-character-was-a-supported-target-character" class="post-header-anchor" href="#the-replaced-character-was-a-supported-target-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The replaced character was a supported target character</h3>\n<p>That\'s easy. We just need to check if the only element (<code>;</code>) in the difference is <a href="https://github.com/adam-lynch/olc/blob/master/homographs.json" rel="noopener">one we support</a>.</p>\n<h3><a id="every-character-added-must-be-a-homoglyph-of-the-replaced-character" class="post-header-anchor" href="#every-character-added-must-be-a-homoglyph-of-the-replaced-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Every character added must be a homoglyph of the replaced character</h3>\n<p>So, now we need to know which characters were added. That\'s the difference of the new set and the original set, i.e. everything on the right-hand side of the diagram. Once every one of those elements is a homoglyth of the target character, then we\'ve covered everything, so the tests pass.</p>\n<h3><a id="the-end-result" class="post-header-anchor" href="#the-end-result" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The end result</h3>\n<figure>\n          <a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png" alt=""/></a>\n          <figcaption><p>The results of the tests</p>\n</figcaption>\n        </figure><p>The <code>[simplesets](https://github.com/PeterScott/simplesets-nodejs)</code> module made light work of the set stuff and I also used <a href="https://mochajs.org/" rel="noopener">mocha</a>, <a href="http://shouldjs.github.io/" rel="noopener">should</a>, and a few other modules for plumbing to implement <a href="https://github.com/adam-lynch/olc/blob/master/test/index.js" rel="noopener">the tests</a>. Check out <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc on GitHub</a>, feel free to submit a pull-request, or use Olc on someone you know but make sure to blame Ben Johnson.</p>\n',attributes:{date:"2015-10-27T00:00:00.000Z",summary:"You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…",original:{blogLink:"https://engineroom.teamwork.com",blogName:"Teamwork's Engine Room",url:"https://engineroom.teamwork.com/olc-ruin-someones-day-with-homoglyphs-b14e9a1a05a4"},tags:[{id:"javascript",name:"javascript"},{id:"nodejs",name:"node.js"},{id:"homoglyphs",name:"homoglyphs"},{id:"prank",name:"prank"}],title:"Olc: Ruin someone’s day with homoglyphs",updated_at:"2018-01-11T19:45:11.000Z",photo:"/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png"},title:"Olc: Ruin someone’s day with homoglyphs",renderedSummary:"<p>You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…</p>\n",rendered:'<h2><a id="olc-ruin-someones-day-with-homoglyphs" class="post-header-anchor" href="#olc-ruin-someones-day-with-homoglyphs" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Olc: Ruin someone’s day with homoglyphs</h2>\n<p><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png" alt=""></p>\n<p>You might have seen Ben Johnson’s <a href="https://twitter.com/benbjohnson/status/533848879423578112" rel="noopener">tweet</a>. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc</a>. “Olc” is the Irish word for “bad” and is inconspicious enough to go unnoticed if added to a project on the sly.</p>\n<pre><code class="language-javascript"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> olc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'olc\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">\'*.js\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">\'./output\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>That\'s the simplest way to run Olc on some files (with <a href="http://gulpjs.com/" rel="noopener">Gulp</a>). Yay, syntax errors. See <a href="https://github.com/adam-lynch/olc#basic-usage-without-gulp" rel="noopener">the readme</a> for standalone usage if you\'d prefer not to use Gulp.</p>\n<h3><a id="options" class="post-header-anchor" href="#options" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Options</h3>\n<p>So only semi-colons are replaced by default as the <s>specification</s> tweet says. For added frustration, any of the following characters can be replaced with homgraphs / homoglyphs: <code>!</code>, <code>(</code>, <code>)</code>, <code>+</code>, <code>,</code>, <code>.</code>, <code>/</code>, <code>:</code>, <code>;</code>, <code>&lt;</code>, and <code>&gt;</code>.</p>\n<pre><code class="language-javascript">gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">\'*.js\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mode<span class="token punctuation">:</span> <span class="token string">\'all\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">\'./output\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>The <code>mode</code> option supports three modes so far;</p>\n<ul>\n<li><code>greek</code>: The default.</li>\n<li><code>all</code>: Replace all of the supported characters with homoglyph. Some characters have multiple homographs and one is chosen at random as the replacement each time an occurance is found.</li>\n<li><code>one</code>: Chooses one target character at random and replaces it throughout each file with its homoglyphs. Therefore, each time the code is run, the error and location could change.</li>\n</ul>\n<p>Alternatively, you can could pass a <code>charactersToReplace</code> option (as a string or array of characters) to explicitly choose how you\'d like to inflict the pain.</p>\n<pre><code class="language-javascript"><span class="token function">olc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> charactersToReplace<span class="token punctuation">:</span> <span class="token string">\';)(\'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// or olc({ charactersToReplace: [\';\', \')\', \'(\'] })</span>\n</code></pre>\n<h3><a id="behind-the-scenes" class="post-header-anchor" href="#behind-the-scenes" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Behind the scenes</h3>\n<p>Olc handles what should be replaced with what and leaves the real work to <a href="https://github.com/lazd/gulp-replace" rel="noopener">gulp-replace</a> underneath. The most interesting thing was testing this. I like having comprehensive tests for my modules. I like hooking them up to <a href="https://travis-ci.org" rel="noopener">Travis-CI</a> (Linux) and <a href="http://www.appveyor.com/" rel="noopener">Appveyor</a> (Windows) to run the tests on every commit (via GitHub webhook). But how could this be tested?</p>\n<p>Testing the <code>greek</code> mode is simple as you just need to check the output against a file containing the expected contents, but how can you test the <code>one</code> mode? How can you check that a random character of a set is replaced throughout? Keep in mind that each occurrence would be replaced with one of the character\'s homoglyphs chosen at random. That sounds like a lot of hassle.</p>\n<p>Set theory was the answer. Treating each character as a unique element of a set simplifies everything. Each of the following must be confirmed:</p>\n<ul>\n<li>All instances of only one character were replaced.</li>\n<li>The replaced character was a supported target character.</li>\n<li>Every character added must be a homoglyph of the replaced character.</li>\n</ul>\n<p>Let\'s take this code (which contains all possible target characters) as example contents of a file:</p>\n<pre><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  \n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Tada...!\'</span> <span class="token string">"&lt;&lt;&lt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> \n  a <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>Let\'s assume that all semi-colons were replaced and all of its homoglyphs were used. Here\'s a Venn diagram:</p>\n<figure>\n          <a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/venn.png" alt=""/></a>\n          <figcaption><p>A Venn diagram containing all characters, showing that most of the characters are unchanged.</p>\n</figcaption>\n        </figure><h3><a id="all-instances-of-only-one-character-were-replaced" class="post-header-anchor" href="#all-instances-of-only-one-character-were-replaced" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>All instances of only one character were replaced</h3>\n<p>Which characters were replaced? That\'s the characters in the original set which aren\'t in the new set, also known as the relative-complement of new set in the original, or simply as the difference of the original and new set. This will leave us with the characters from the left-hand side of the diagram. Once the cardinality of the difference is one, then all is ok.</p>\n<h3><a id="the-replaced-character-was-a-supported-target-character" class="post-header-anchor" href="#the-replaced-character-was-a-supported-target-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The replaced character was a supported target character</h3>\n<p>That\'s easy. We just need to check if the only element (<code>;</code>) in the difference is <a href="https://github.com/adam-lynch/olc/blob/master/homographs.json" rel="noopener">one we support</a>.</p>\n<h3><a id="every-character-added-must-be-a-homoglyph-of-the-replaced-character" class="post-header-anchor" href="#every-character-added-must-be-a-homoglyph-of-the-replaced-character" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>Every character added must be a homoglyph of the replaced character</h3>\n<p>So, now we need to know which characters were added. That\'s the difference of the new set and the original set, i.e. everything on the right-hand side of the diagram. Once every one of those elements is a homoglyth of the target character, then we\'ve covered everything, so the tests pass.</p>\n<h3><a id="the-end-result" class="post-header-anchor" href="#the-end-result" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>The end result</h3>\n<figure>\n          <a href="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png"><img src="/images/blog-content/olc-ruin-someones-day-with-homoglyphs/test-results.png" alt=""/></a>\n          <figcaption><p>The results of the tests</p>\n</figcaption>\n        </figure><p>The <code>[simplesets](https://github.com/PeterScott/simplesets-nodejs)</code> module made light work of the set stuff and I also used <a href="https://mochajs.org/" rel="noopener">mocha</a>, <a href="http://shouldjs.github.io/" rel="noopener">should</a>, and a few other modules for plumbing to implement <a href="https://github.com/adam-lynch/olc/blob/master/test/index.js" rel="noopener">the tests</a>. Check out <a href="https://github.com/adam-lynch/olc" rel="noopener">Olc on GitHub</a>, feel free to submit a pull-request, or use Olc on someone you know but make sure to blame Ben Johnson.</p>\n',summary:"You might have seen Ben Johnson’s tweet. I’m sorry everyone, I’ve made a module which makes this a lot easier to do. It’s called Olc. “Olc” is the Irish word for “bad” and is inconspicious enough to go…\n",original:{blogLink:"https://engineroom.teamwork.com",blogName:"Teamwork's Engine Room",url:"https://engineroom.teamwork.com/olc-ruin-someones-day-with-homoglyphs-b14e9a1a05a4"},photo:"/images/blog-content/olc-ruin-someones-day-with-homoglyphs/tweet.png",keywords:["javascript","node.js","homoglyphs","prank"],published_at:"2015-10-27T00:00:00.000Z",updated_at:"2018-01-11T19:45:11.000Z",year:2015,month:10,day:28}}],error:null,state:{nameToShow:"Adam Lynch",githubAccountUrl:"https://github.com/adam-lynch",siteUrl:"https://adamlynch.com",siteTitle:"Adam Lynch",repositoryUrl:"https://github.com/adam-lynch/adam-lynch.github.io"},serverRendered:!0}</script><script src="/_nuxt/manifest.45cf92cb222419c2a2ce.js" defer></script><script src="/_nuxt/layouts/default.6b4afe2883b96cb0c943.js" defer></script><script src="/_nuxt/2.21a1d4b69bc870889f90.js" defer></script><script src="/_nuxt/common.cce26c30433710b95d02.js" defer></script><script src="/_nuxt/app.79fa0045d017ad4d1319.js" defer></script><script src="https://use.typekit.net/tci5xbk.js"></script><script>try{Typekit.load({async:!0})}catch(a){}</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-31546953-1","auto"),ga("send","pageview")</script>