{
  "id": "nwjs-app-and-shortcut-apis",
  "slug": "nwjs-app-and-shortcut-apis",
  "highlightedLanguages": [
    "javascript"
  ],
  "source": "---\ndate: 2015-12-18\nsummary: The NW.js GUI library provides an \"App\" API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows...  \noriginal:\n  blogLink: https://www.packtpub.com/books/content/blogs\n  blogName: Packt books\n  url: https://www.packtpub.com/books/content/nwjs-app-and-shortcut-apis\ntags:\n  - node-webkit\n  - desktop\n  - javascript\n  - app\n  - shortcut\n---\n\n## NW.js: The App and Shortcut APIs\n\nThe NW.js GUI library provides an `App` API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows:\n\n```javascript\nvar gui = require('nw.gui');\ngui.App.quit();\n```\n\nAs you can see from the example, the App API contains a quit method, which will kill your application. `gui.App.argv`, `gui.App.dataPath`, and `gui.App.manifest` are properties containing an array of arguments passed to your application when it was executed, an object representing your app's JSON manifest, and the application's data path in user's directory. `gui.App.dataPath` is typically a directory with the name you gave as the name property in your app manifest, located in the current user's `AppData/Local/` directory on Windows, `~/Library/Application Support/` on Mac OS X, or in `~/.config/` on Linux.\n\n```javascript\nvar gui = require('nw.gui');\ngui.App.on('open', function(command){\n  gui.App.closeAllWindows();\n});\n```\n\nThe App API gives us two events we can listen for: open and reopen. The open event is fired when someone opens a file with your application, i.e. from the command line like: `myapp a.txt`. The function passed will receive the entire command (`myapp a.txt`) as the only argument. The reopen is exclusive to Mac OS X and is fired when the user clicks the dock icon for your app while it is already running. Also used in the example is the `gui.App.closeAllWindows` method which could come in handy if your app contains multiple windows.\n\nOther methods out of scope for this post include ones for getting and setting proxy configuration, editing cross-origin policies, setting where crash dumps get written to when NW.js itself crashes, and forcing a crash in the browser or renderer.\n\n## Keyboard shortcuts\n\nThis is also where you'll find methods to add or remove \"global hot keys\", i.e. keyboard shortcuts. To add a shortcut, you could do like this:\n\n```javascript\nvar gui = require('nw.gui');\nvar shortcut = newgui.Shortcut({\n  key: \"V\",\n  active: function() {\n    console.log(\"Shortcut: \" + this.key + \" pressed.\");\n  },\n  failed: function(msg) {\n    // Error adding / parsing the key\n    console.log(msg);\n  }\n});\ngui.App.registerGlobalHotKey(shortcut);\n```\n\nWith the above code, any time the user presses the A key, the active callback is called. We create a new Shortcut instance (another piece of the the NW.js' GUI library) and pass it to `gui.App.registerGlobalHotKey`. The failed callback is called if there was a problem adding or parsing the key option. This is useful for development because there are some peculiar restrictions on what can be passed as the key option. The key option has to contain exactly one \"key\" (no more, no less) and can contain zero or more \"modifiers\". A \"key\" is one of the following: `A-Z`, `0-9`, `Comma`, `Period`, `Home`, `End`, `PageUp`, `PageDown`, `Insert`, `Delete`, Arrow keys (`Up`, `Down`, `Left`, `Right`) and the Media Keys (`MediaNextTrack`, `MediaPlayPause`, `MediaPrevTrack`, `MediaStop`). The supported \"modifiers\" are: `Ctrl`, `Alt`, and `Shift`. Strangely, it was decided that on Mac OS X Ctrl would bind to Command instead, intentionally. I find this very strange as it seems you cannot bind any shortcuts which use the ctrl key on a Mac because of this. Hopefully in a future version Ctrl will map to Ctrl, Command will be supported, and it would be up to the user to check the current platform and bind to the correct keys accordingly.\n\nFor clarity, here are a few example key bindings: \n\n- `A`: Valid. \n- `A+B`: Fails; you're not allowed to have multiple \"keys\". \n- `Alt+Shift+T`: Valid. \n- `Ctrl+B`: Valid but maps to `Command+B` on Mac OS X.\n\nIt's not recommended to bind a shortcut to just one \"key\" like the A key as it'll block usage of that key for other applications while your app is running or until your app \"unregisters\" it.\n\n### Unbinding a shortcut\n\nThe API is pretty symmetric in that you can call `gui.App.unregisterGlobalHotKey` to remove or unbind a shortcut. You do have to pass the Shortcut instance again though which is a bit awkward. Thankfully, you can also pass a new Shortcut instance with just the key option as a workaround. So either of the last two lines here would work:\n\n```javascript\nvar gui = require('nw.gui');\nvar shortcut = newgui.Shortcut({\n  key: 'V',\n  active: function() {\n    console.log('Shortcut: ' + this.key + ' pressed.');\n  },\n  failed: function(msg) {\n    console.log(msg);\n  }\n});\ngui.App.registerGlobalHotKey(shortcut);\n\ngui.App.unregisterGlobalHotKey(shortcut); // option 1\ngui.App.unregisterGlobalHotKey({key: 'V'}); // option 2\n```\n\n### Events\n\nThe Shortcut instance emits active and failed events as well as accepting them as options. You could either or both if you'd like. Here's an unrealistic example:\n\n```javascript\nvar gui = require('nw.gui');\nvar shortcut = newgui.Shortcut({\n  key: 'V',\n  active: function() {\n    console.log('ACTIVE: Constructor option');\n  },\n  failed : function(msg) {\n    console.log('FAILED (Constructor option): ' + msg);\n  }\n});\n\nshortcut.on('active', function(){\n  console.log('ACTIVE: Event listener');\n});\n\nshortcut.on('failed', function(msg){\n  console.log('FAILED (Event listener): ' + msg);\n});\n\ngui.App.registerGlobalHotKey(shortcut);\n```\n\n### System-wide\n\nThese shortcuts are system-wide and will be called even if your app isn't focused. If you'd like to have shortcuts which do something when your app is focused, then you could check if the app is focused in the active callback using the Window API we'll cover later.\n\n### Summary and Alternative\n\nThis article provides a quick look at the App API, but if you really need to bind to keys, which aren't supported by this API, or if you can't use this API because your app will be used in both NW.js and on the Web, then you could use a JavaScript library to bind your shortcuts. These will not be \"global\" or \"system-wide\" though.\n",
  "unfilteredRenderedBody": "<h2><a id=\"nwjs-the-app-and-shortcut-apis\" class=\"post-header-anchor\" href=\"#nwjs-the-app-and-shortcut-apis\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>NW.js: The App and Shortcut APIs</h2>\n<p>The NW.js GUI library provides an <code>App</code> API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>As you can see from the example, the App API contains a quit method, which will kill your application. <code>gui.App.argv</code>, <code>gui.App.dataPath</code>, and <code>gui.App.manifest</code> are properties containing an array of arguments passed to your application when it was executed, an object representing your app's JSON manifest, and the application's data path in user's directory. <code>gui.App.dataPath</code> is typically a directory with the name you gave as the name property in your app manifest, located in the current user's <code>AppData/Local/</code> directory on Windows, <code>~/Library/Application Support/</code> on Mac OS X, or in <code>~/.config/</code> on Linux.</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'open'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>command<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  gui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">closeAllWindows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>The App API gives us two events we can listen for: open and reopen. The open event is fired when someone opens a file with your application, i.e. from the command line like: <code>myapp a.txt</code>. The function passed will receive the entire command (<code>myapp a.txt</code>) as the only argument. The reopen is exclusive to Mac OS X and is fired when the user clicks the dock icon for your app while it is already running. Also used in the example is the <code>gui.App.closeAllWindows</code> method which could come in handy if your app contains multiple windows.</p>\n<p>Other methods out of scope for this post include ones for getting and setting proxy configuration, editing cross-origin policies, setting where crash dumps get written to when NW.js itself crashes, and forcing a crash in the browser or renderer.</p>\n<h2><a id=\"keyboard-shortcuts\" class=\"post-header-anchor\" href=\"#keyboard-shortcuts\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Keyboard shortcuts</h2>\n<p>This is also where you'll find methods to add or remove &quot;global hot keys&quot;, i.e. keyboard shortcuts. To add a shortcut, you could do like this:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">\"V\"</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Shortcut: \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token string\">\" pressed.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Error adding / parsing the key</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>With the above code, any time the user presses the A key, the active callback is called. We create a new Shortcut instance (another piece of the the NW.js' GUI library) and pass it to <code>gui.App.registerGlobalHotKey</code>. The failed callback is called if there was a problem adding or parsing the key option. This is useful for development because there are some peculiar restrictions on what can be passed as the key option. The key option has to contain exactly one &quot;key&quot; (no more, no less) and can contain zero or more &quot;modifiers&quot;. A &quot;key&quot; is one of the following: <code>A-Z</code>, <code>0-9</code>, <code>Comma</code>, <code>Period</code>, <code>Home</code>, <code>End</code>, <code>PageUp</code>, <code>PageDown</code>, <code>Insert</code>, <code>Delete</code>, Arrow keys (<code>Up</code>, <code>Down</code>, <code>Left</code>, <code>Right</code>) and the Media Keys (<code>MediaNextTrack</code>, <code>MediaPlayPause</code>, <code>MediaPrevTrack</code>, <code>MediaStop</code>). The supported &quot;modifiers&quot; are: <code>Ctrl</code>, <code>Alt</code>, and <code>Shift</code>. Strangely, it was decided that on Mac OS X Ctrl would bind to Command instead, intentionally. I find this very strange as it seems you cannot bind any shortcuts which use the ctrl key on a Mac because of this. Hopefully in a future version Ctrl will map to Ctrl, Command will be supported, and it would be up to the user to check the current platform and bind to the correct keys accordingly.</p>\n<p>For clarity, here are a few example key bindings:</p>\n<ul>\n<li><code>A</code>: Valid.</li>\n<li><code>A+B</code>: Fails; you're not allowed to have multiple &quot;keys&quot;.</li>\n<li><code>Alt+Shift+T</code>: Valid.</li>\n<li><code>Ctrl+B</code>: Valid but maps to <code>Command+B</code> on Mac OS X.</li>\n</ul>\n<p>It's not recommended to bind a shortcut to just one &quot;key&quot; like the A key as it'll block usage of that key for other applications while your app is running or until your app &quot;unregisters&quot; it.</p>\n<h3><a id=\"unbinding-a-shortcut\" class=\"post-header-anchor\" href=\"#unbinding-a-shortcut\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Unbinding a shortcut</h3>\n<p>The API is pretty symmetric in that you can call <code>gui.App.unregisterGlobalHotKey</code> to remove or unbind a shortcut. You do have to pass the Shortcut instance again though which is a bit awkward. Thankfully, you can also pass a new Shortcut instance with just the key option as a workaround. So either of the last two lines here would work:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Shortcut: '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token string\">' pressed.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// option 1</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterGlobalHotKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// option 2</span>\n</code></pre>\n<h3><a id=\"events\" class=\"post-header-anchor\" href=\"#events\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Events</h3>\n<p>The Shortcut instance emits active and failed events as well as accepting them as options. You could either or both if you'd like. Here's an unrealistic example:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ACTIVE: Constructor option'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed <span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FAILED (Constructor option): '</span> <span class=\"token operator\">+</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nshortcut<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ACTIVE: Event listener'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nshortcut<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'failed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FAILED (Event listener): '</span> <span class=\"token operator\">+</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3><a id=\"system-wide\" class=\"post-header-anchor\" href=\"#system-wide\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>System-wide</h3>\n<p>These shortcuts are system-wide and will be called even if your app isn't focused. If you'd like to have shortcuts which do something when your app is focused, then you could check if the app is focused in the active callback using the Window API we'll cover later.</p>\n<h3><a id=\"summary-and-alternative\" class=\"post-header-anchor\" href=\"#summary-and-alternative\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Summary and Alternative</h3>\n<p>This article provides a quick look at the App API, but if you really need to bind to keys, which aren't supported by this API, or if you can't use this API because your app will be used in both NW.js and on the Web, then you could use a JavaScript library to bind your shortcuts. These will not be &quot;global&quot; or &quot;system-wide&quot; though.</p>\n",
  "attributes": {
    "date": "2015-12-18T00:00:00.000Z",
    "summary": "The NW.js GUI library provides an \"App\" API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows...",
    "original": {
      "blogLink": "https://www.packtpub.com/books/content/blogs",
      "blogName": "Packt books",
      "url": "https://www.packtpub.com/books/content/nwjs-app-and-shortcut-apis"
    },
    "tags": [
      {
        "id": "node-webkit",
        "name": "node-webkit"
      },
      {
        "id": "desktop",
        "name": "desktop"
      },
      {
        "id": "javascript",
        "name": "javascript"
      },
      {
        "id": "app",
        "name": "app"
      },
      {
        "id": "shortcut",
        "name": "shortcut"
      }
    ],
    "title": "NW.js: The App and Shortcut APIs",
    "updated_at": "2018-01-11T19:45:11.000Z"
  },
  "title": "NW.js: The App and Shortcut APIs",
  "renderedSummary": "<p>The NW.js GUI library provides an &quot;App&quot; API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows...</p>\n",
  "rendered": "<h2><a id=\"nwjs-the-app-and-shortcut-apis\" class=\"post-header-anchor\" href=\"#nwjs-the-app-and-shortcut-apis\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>NW.js: The App and Shortcut APIs</h2>\n<p>The NW.js GUI library provides an <code>App</code> API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>As you can see from the example, the App API contains a quit method, which will kill your application. <code>gui.App.argv</code>, <code>gui.App.dataPath</code>, and <code>gui.App.manifest</code> are properties containing an array of arguments passed to your application when it was executed, an object representing your app's JSON manifest, and the application's data path in user's directory. <code>gui.App.dataPath</code> is typically a directory with the name you gave as the name property in your app manifest, located in the current user's <code>AppData/Local/</code> directory on Windows, <code>~/Library/Application Support/</code> on Mac OS X, or in <code>~/.config/</code> on Linux.</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'open'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>command<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  gui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">closeAllWindows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>The App API gives us two events we can listen for: open and reopen. The open event is fired when someone opens a file with your application, i.e. from the command line like: <code>myapp a.txt</code>. The function passed will receive the entire command (<code>myapp a.txt</code>) as the only argument. The reopen is exclusive to Mac OS X and is fired when the user clicks the dock icon for your app while it is already running. Also used in the example is the <code>gui.App.closeAllWindows</code> method which could come in handy if your app contains multiple windows.</p>\n<p>Other methods out of scope for this post include ones for getting and setting proxy configuration, editing cross-origin policies, setting where crash dumps get written to when NW.js itself crashes, and forcing a crash in the browser or renderer.</p>\n<h2><a id=\"keyboard-shortcuts\" class=\"post-header-anchor\" href=\"#keyboard-shortcuts\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Keyboard shortcuts</h2>\n<p>This is also where you'll find methods to add or remove &quot;global hot keys&quot;, i.e. keyboard shortcuts. To add a shortcut, you could do like this:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">\"V\"</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Shortcut: \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token string\">\" pressed.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Error adding / parsing the key</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>With the above code, any time the user presses the A key, the active callback is called. We create a new Shortcut instance (another piece of the the NW.js' GUI library) and pass it to <code>gui.App.registerGlobalHotKey</code>. The failed callback is called if there was a problem adding or parsing the key option. This is useful for development because there are some peculiar restrictions on what can be passed as the key option. The key option has to contain exactly one &quot;key&quot; (no more, no less) and can contain zero or more &quot;modifiers&quot;. A &quot;key&quot; is one of the following: <code>A-Z</code>, <code>0-9</code>, <code>Comma</code>, <code>Period</code>, <code>Home</code>, <code>End</code>, <code>PageUp</code>, <code>PageDown</code>, <code>Insert</code>, <code>Delete</code>, Arrow keys (<code>Up</code>, <code>Down</code>, <code>Left</code>, <code>Right</code>) and the Media Keys (<code>MediaNextTrack</code>, <code>MediaPlayPause</code>, <code>MediaPrevTrack</code>, <code>MediaStop</code>). The supported &quot;modifiers&quot; are: <code>Ctrl</code>, <code>Alt</code>, and <code>Shift</code>. Strangely, it was decided that on Mac OS X Ctrl would bind to Command instead, intentionally. I find this very strange as it seems you cannot bind any shortcuts which use the ctrl key on a Mac because of this. Hopefully in a future version Ctrl will map to Ctrl, Command will be supported, and it would be up to the user to check the current platform and bind to the correct keys accordingly.</p>\n<p>For clarity, here are a few example key bindings:</p>\n<ul>\n<li><code>A</code>: Valid.</li>\n<li><code>A+B</code>: Fails; you're not allowed to have multiple &quot;keys&quot;.</li>\n<li><code>Alt+Shift+T</code>: Valid.</li>\n<li><code>Ctrl+B</code>: Valid but maps to <code>Command+B</code> on Mac OS X.</li>\n</ul>\n<p>It's not recommended to bind a shortcut to just one &quot;key&quot; like the A key as it'll block usage of that key for other applications while your app is running or until your app &quot;unregisters&quot; it.</p>\n<h3><a id=\"unbinding-a-shortcut\" class=\"post-header-anchor\" href=\"#unbinding-a-shortcut\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Unbinding a shortcut</h3>\n<p>The API is pretty symmetric in that you can call <code>gui.App.unregisterGlobalHotKey</code> to remove or unbind a shortcut. You do have to pass the Shortcut instance again though which is a bit awkward. Thankfully, you can also pass a new Shortcut instance with just the key option as a workaround. So either of the last two lines here would work:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Shortcut: '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token string\">' pressed.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// option 1</span>\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">unregisterGlobalHotKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// option 2</span>\n</code></pre>\n<h3><a id=\"events\" class=\"post-header-anchor\" href=\"#events\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Events</h3>\n<p>The Shortcut instance emits active and failed events as well as accepting them as options. You could either or both if you'd like. Here's an unrealistic example:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> gui <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nw.gui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> shortcut <span class=\"token operator\">=</span> newgui<span class=\"token punctuation\">.</span><span class=\"token function\">Shortcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">,</span>\n  active<span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ACTIVE: Constructor option'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  failed <span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FAILED (Constructor option): '</span> <span class=\"token operator\">+</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nshortcut<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ACTIVE: Event listener'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nshortcut<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'failed'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FAILED (Event listener): '</span> <span class=\"token operator\">+</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngui<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">.</span><span class=\"token function\">registerGlobalHotKey</span><span class=\"token punctuation\">(</span>shortcut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3><a id=\"system-wide\" class=\"post-header-anchor\" href=\"#system-wide\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>System-wide</h3>\n<p>These shortcuts are system-wide and will be called even if your app isn't focused. If you'd like to have shortcuts which do something when your app is focused, then you could check if the app is focused in the active callback using the Window API we'll cover later.</p>\n<h3><a id=\"summary-and-alternative\" class=\"post-header-anchor\" href=\"#summary-and-alternative\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 8 8\"><path d=\"M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z\"></path></svg></a>Summary and Alternative</h3>\n<p>This article provides a quick look at the App API, but if you really need to bind to keys, which aren't supported by this API, or if you can't use this API because your app will be used in both NW.js and on the Web, then you could use a JavaScript library to bind your shortcuts. These will not be &quot;global&quot; or &quot;system-wide&quot; though.</p>\n",
  "summary": "The NW.js GUI library provides an &quot;App&quot; API, which contains a variety of methods and properties, some of which are essential to pretty much any app, and some have more obscure use cases. You can access the API as follows...\n",
  "original": {
    "blogLink": "https://www.packtpub.com/books/content/blogs",
    "blogName": "Packt books",
    "url": "https://www.packtpub.com/books/content/nwjs-app-and-shortcut-apis"
  },
  "keywords": [
    "node-webkit",
    "desktop",
    "javascript",
    "app",
    "shortcut"
  ],
  "published_at": "2015-12-18T00:00:00.000Z",
  "updated_at": "2018-01-11T19:45:11.000Z",
  "year": 2015,
  "month": 12,
  "day": 19,
  "next": {
    "id": "transparency-and-nwjs",
    "slug": "transparency-and-nwjs",
    "collection": null,
    "keywords": [
      "node-webkit",
      "desktop",
      "javascript",
      "platform",
      "linux",
      "mac",
      "windows"
    ],
    "original": {
      "blogLink": "https://www.packtpub.com/books/content/blogs",
      "blogName": "Packt books",
      "url": "https://www.packtpub.com/books/content/transparency-and-nwjs"
    },
    "title": "Transparency and NW.js",
    "summary": "Yes, NW.js does support transparency, albeit it is disabled by default. One way to enable transparency is to use the transparency property to your application's manifest like this...\n",
    "photo": "/images/blog-content/transparency-and-nwjs/transparent-window-frame.png",
    "published_at": "2016-01-26T00:00:00.000Z",
    "renderedSummary": "<p>Yes, NW.js does support transparency, albeit it is disabled by default. One way to enable transparency is to use the transparency property to your application's manifest like this...</p>\n"
  },
  "prev": {
    "id": "coffeescript-at-teamwork",
    "slug": "coffeescript-at-teamwork",
    "collection": null,
    "keywords": [
      "coffeescript",
      "teamwork"
    ],
    "original": {
      "blogLink": "https://engineroom.teamwork.com",
      "blogName": "Teamwork's Engine Room",
      "url": "https://engineroom.teamwork.com/coffeescript-at-teamwork-e596eed63590"
    },
    "title": "CoffeeScript at Teamwork",
    "summary": "The first project at Teamwork to use CoffeeScript was the Teamwork.com iPad app. Fast forward two years. We now have web, mobile and even desktop apps built with CoffeeScript. If you need a primer, theres no better place\n",
    "photo": "/images/blog-content/coffeescript-at-teamwork/biscotto-output.jpg",
    "published_at": "2014-09-26T00:00:00.000Z",
    "renderedSummary": "<p>The first project at Teamwork to use CoffeeScript was the <a href=\"http://Teamwork.com\" rel=\"noopener\">Teamwork.com</a> iPad app. Fast forward two years. We now have web, mobile and even desktop apps built with CoffeeScript. If you need a primer, theres no better place</p>\n"
  }
}